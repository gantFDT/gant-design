(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{4080:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _gantd__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_header__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(97),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),faker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2572),faker__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(faker__WEBPACK_IMPORTED_MODULE_3__),moment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(10),moment__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__),antd__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36),lodash__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4),__read=function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},columns=[{title:"零件信息",fieldName:"part",children:[{title:"零件名",fieldName:"partName",filter:"agMultiColumnFilter",width:150},{title:"零件号",fieldName:"partNum",filter:"agTextColumnFilter",width:120},{title:"中文名",fieldName:"zh",filter:"agNumberColumnFilter"},{title:"英文名",fieldName:"en",filter:"agNumberColumnFilter"}]},{title:"其他信息",fieldName:"other",children:[{title:"创建人",fieldName:"createBy",filter:"agTextColumnFilter",width:120},{title:"更新人",fieldName:"updateBy",filter:"agTextColumnFilter",width:120},{title:"创建时间",fieldName:"createDate",filter:"agDateColumnFilter"},{title:"更新时间",fieldName:"updateDate",filter:"agDateColumnFilter"}]}],dataSource=new Array(100).fill({}).map((function(){return{id:faker__WEBPACK_IMPORTED_MODULE_3___default.a.datatype.uuid(),partName:faker__WEBPACK_IMPORTED_MODULE_3___default.a.name.firstName(),partNum:faker__WEBPACK_IMPORTED_MODULE_3___default.a.phone.phoneNumber(),usage:faker__WEBPACK_IMPORTED_MODULE_3___default.a.datatype.number(),createDate:moment__WEBPACK_IMPORTED_MODULE_4___default()(faker__WEBPACK_IMPORTED_MODULE_3___default.a.datatype.datetime()).format("YYYY-MM-DD"),updateDate:moment__WEBPACK_IMPORTED_MODULE_4___default()(faker__WEBPACK_IMPORTED_MODULE_3___default.a.datatype.datetime()).format("YYYY-MM-DD"),createBy:faker__WEBPACK_IMPORTED_MODULE_3___default.a.name.firstName(),updateBy:faker__WEBPACK_IMPORTED_MODULE_3___default.a.name.firstName(),zh:faker__WEBPACK_IMPORTED_MODULE_3___default.a.name.lastName(),en:faker__WEBPACK_IMPORTED_MODULE_3___default.a.name.lastName(),de:faker__WEBPACK_IMPORTED_MODULE_3___default.a.name.lastName()}}));__webpack_exports__.default=function(){var _a=__read(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),2),_b=(_a[0],_a[1],__read(Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),2)),visibleDrawer=_b[0],setVisibleDrawer=_b[1],formRef=Object(react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null),formSchema=Object(react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((function(){return function(columns){var schema={type:"object",propertyType:{}},setPropertyType=function(currentColumn){if(currentColumn&&Object(lodash__WEBPACK_IMPORTED_MODULE_6__.get)(currentColumn,"fieldName"))if(Object(lodash__WEBPACK_IMPORTED_MODULE_6__.isArray)(currentColumn.children))currentColumn.children.forEach((function(c){setPropertyType(c)}));else{var fieldName=currentColumn.fieldName,title=currentColumn.title,props=currentColumn.props,componentType=currentColumn.componentType;Object(lodash__WEBPACK_IMPORTED_MODULE_6__.set)(schema,"propertyType."+fieldName,{title:title,type:"string",componentType:componentType,props:props})}};return columns.forEach((function(column){setPropertyType(column)})),schema}(columns)}),[]),customDrawerContent=Object(react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((function(params){var data=params.clickedEvent.data;return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_header__WEBPACK_IMPORTED_MODULE_1__.a,{title:"详情",type:"line",bottomLine:!0,extra:react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd__WEBPACK_IMPORTED_MODULE_5__.a,{icon:"close",size:"small",onClick:function(){return setVisibleDrawer(!1)}})),style:{paddingLeft:10}}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",{style:{height:"calc(100% - 30px)",overflowY:"auto"}},react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_gantd__WEBPACK_IMPORTED_MODULE_0__.u,{wrappedComponentRef:formRef,schema:formSchema,size:"small",data:data})))}),[formSchema]);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_header__WEBPACK_IMPORTED_MODULE_1__.a,{title:"侧边栏表单详情",type:"line"}),react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_gantd__WEBPACK_IMPORTED_MODULE_0__.f,{rowkey:"id",dataSource:dataSource,columns:columns,drawerMode:!0,defaultDrawerWidth:200,customDrawerContent:customDrawerContent,visibleDrawer:visibleDrawer,onRowDoubleClicked:function(){setVisibleDrawer(!0)}}))}}}]);
//# sourceMappingURL=15.57f8c87e1db5860de597.bundle.js.map